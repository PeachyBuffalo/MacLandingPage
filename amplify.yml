version: 1
frontend:
  phases:
    preBuild:
      commands:
        - 'curl -sS https://getcomposer.org/installer | php'
        - 'php composer.phar install --no-ansi --no-interaction --no-scripts --no-suggest --no-progress --prefer-dist'
    build:
      commands:
        - 'php artisan key:generate'
        - 'php artisan config:cache'
        - 'php artisan route:cache'
        - 'php artisan view:cache'
  artifacts:
    baseDirectory: public
    files:
      - '**/*'
  cache:
    paths:
      - 'vendor/**/*'